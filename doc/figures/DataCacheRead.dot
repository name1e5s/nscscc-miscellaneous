digraph DataCacheRead {
    node [shape = circle fixedsize = true width = 2];
    IDLE -> UNCACHED_SHAKE [ label = "uncached, handshake incomplete"];
    IDLE -> UNCACHED_RETURN [ label = "uncached, handshake complete" ];
    IDLE -> FIFO_WAIT [ label = "uncached, store buffer not empty" ];
    IDLE -> FIFO_WAIT [ label = "cache miss, store buffer not empty" ];
    IDLE -> CACHED_RWAIT [ label = "cache miss, handshake incomplete" ];
    IDLE -> CACHED_RSHAKE [ label = "cache miss, handshake complete" ];
    UNCACHED_SHAKE -> UNCACHED_RETURN [ label = "handshake done" ];
    UNCACHED_SHAKE -> UNCACHED_SHAKE [ label = "handshake incomplete" ];
    FIFO_WAIT -> IDLE [ label = "store buffer is empty" ];
    FIFO_WAIT -> FIFO_WAIT [ label = "store buffer not empty" ];
    CACHED_RSHAKE -> CACHED_RWAIT [ label = "handshake done" ];
    CACHED_RWAIT -> CACHED_REFILL [ label = "read done"];
    CACHED_RWAIT -> CACHED_WWAIT [ label = "read done but write back is not done"];
    CACHED_RWAIT -> CACHED_RWAIT [ label = "reading data from memory" ];
    CACHED_WWAIT -> CACHED_REFILL [ label = "write back done" ];
    CACHED_REFILL -> IDLE;
}